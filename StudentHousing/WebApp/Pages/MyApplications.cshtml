@page
@using Logic.Managers;
@using Logic.Entities;
@using Logic.DTO;
@model WebApp.Pages.MyApplicationsModel
@{
    // <link href="~/css/style.css" rel="stylesheet" type="text/css" />
    <link href="~/css/request-css.css" rel="stylesheet" type="text/css" />
    ViewData["Title"] = "Product Cards";
}

<div class="Requests-overview">
    <div class="button-r">
        <a href="/RecommendedHouses?name=ByRequest">See recommended houses</a>
    </div>
    @foreach (Request request in Model.requestList)
    {
        <form method="post">
            <div class="request-card">
                <div class="request-card-img">
                    <input asp-for="HouseDTO.HouseID" type="hidden" value="@request.Customer.PersonID" />
                    </div>
                    <button type="submit" class="framed">
                        <img class="product-card-img" src="data:image/jpg;base64,@System.Convert.ToBase64String(request.House.HousePhoto)" />
                    </button>
                

                <div class="price-and-name">
                    <span class="price">Status: @request.Status</span>
                </div>
                <div class="text-center">
                    <div class="price-and-name">
                        <span class="name">@request.House.Address</span>
                    </div>
                    <div class="price-and-name">
                        <span class="price">Rent: $@request.House.Rent</span>
                    </div>

                </div>
            </div>

        </form>
    }
</div>
